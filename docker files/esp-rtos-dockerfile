# Download base image ubuntu 20.04
FROM ubuntu:20.04 as builder

# LABEL Information about the image
LABEL maintainer="info@studiopieters.nl"
LABEL version="3.0.7"
LABEL description="This is a revised Docker Image for \
the ESP Homekit Software Development Kit."

# Update Ubuntu Software repository and install prerequisites
RUN apt-get update && apt-get install -y git

# Clone ESP-OPENRToS
RUN git clone --recursive https://github.com/Superhouse/esp-open-rtos.git /opt/esp-open-rtos

# Set base image ESP-SDK
FROM esp-sdk:latest

# Copy
COPY --from=builder /opt/esp-open-rtos /opt/esp-open-rtos

# Set PATH
ENV SDK_PATH /opt/esp-open-rtos
